# v0.2.0 — Smart Expenses

Fecha: 2025-09-21
Rama: `sprint-1/smart-expenses`

## Resumen Ejecutivo
Entrega enfocada en una experiencia de finanzas personales MUY amigable y coherente, con unificación de gastos, estabilidad en ingresos multi-moneda, branding renovado (Compounding) y un módulo educativo/práctico FIRE. Backend con Supabase y RLS, migraciones listas.

## Cambios Clave
- Gastos Inteligentes (Smart Expenses)
  - Plantillas recurrentes: día, autopago y recordatorios.
  - Inbox mensual: confirmar/editar/posponer; "Confirmar todo" con modal-resumen.
  - Banner "Vencen pronto"; flujo "Marcar pagado"; badges y stats.
  - Monto sugerido basado en promedio 3 meses.
- Unificación
  - Suscripciones → Gastos: reflejo como plantilla mensual con tags de procedencia.
  - Servicios de Vivienda → Gastos: misma mecánica (día, recordatorios/autopago, tags).
- Ingresos
  - Corrección de crash (Radix Select) con sentinel `none`.
  - Moneda por ingreso (tags `currency:ISO`), edición en modal.
  - Toggle de conversión: ver filas y totales en moneda del perfil.
- FIRE
  - Página educativa (conceptos y enfoque de compounding).
  - Calculadora: Número FIRE, retiro seguro, progreso, tiempo estimado.
  - Escenarios: guardar/cargar; persistencia en Supabase con fallback local.
  - Migración: `fire_scenarios` con RLS y trigger `updated_at`.
  - Hook: `useFireScenarios` CRUD, integrado en la calculadora.
- Branding y PWA
  - Rebranding: "Compounding" (sidebar, landing, meta).
  - Iconos: `icon-graph.svg` como favicon; set de SVGs temáticos.
  - Manifest: `public/manifest.webmanifest` + theme color.
- Onboarding / Docs
  - Smart Start en Dashboard: tareas rápidas (valor en 2 minutos).
  - "Casos de Uso": actualizado con FIRE, conversión de moneda y workflows de recurrentes.

## Migraciones
- `supabase/migrations/20250921120000_add_fire_scenarios.sql`
  - Tabla `public.fire_scenarios` (RLS, owner-only policies, trigger `updated_at`).

## Rutas / Navegación
- Sidebar: agregado módulo FIRE y branding Compounding.
- Rutas: `/fire` + secciones de Finanzas consolidadas.

## Riesgos / Notas
- Si no se aplica la migración `fire_scenarios`, los escenarios FIRE funcionan en localStorage.
- Requiere tasas de cambio válidas para conversión de ingresos.

## Checklist
- [x] Compila y corre en Vite (HMR ok).
- [x] Tipos de Supabase actualizados.
- [x] Casos de Uso actualizados.
- [x] Favicon y manifest actualizados.
- [x] Hook `useFireScenarios` probado (CRUD + toasts).

---

## Créditos
Implementado íntegramente durante el sprint vía este chat operativo. 